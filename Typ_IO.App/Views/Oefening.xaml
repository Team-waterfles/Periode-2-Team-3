<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BasisJaar2.Views.Oefening">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Terugknop linksboven -->
            <Border StrokeThickness="0"
                    Background="#061f4f"
                    StrokeShape="RoundRectangle 10"
                    WidthRequest="100"
                    HeightRequest="40"
                    HorizontalOptions="Start"
                    Margin="0,0,0,5">
                <Label Text="Terug"
                       TextColor="White"
                       FontSize="16"
                       VerticalOptions="Center"
                       HorizontalOptions="Center" />
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="Terug_Clicked" />
                </Border.GestureRecognizers>
            </Border>

            <!-- Titel -->
            <Label Text="Typ Oefening" FontSize="32" FontAttributes="Bold" HorizontalOptions="Center" />
            <!-- Timer + Karakters -->
            <HorizontalStackLayout HorizontalOptions="Center" Spacing="30">
                <Label Text=" Tijd:" FontSize="18" FontAttributes="Bold" />
                <Label Text="{Binding Tijd}" FontSize="24" FontAttributes="Bold" TextColor="Green" />
                <Label Text="Getypt:" FontSize="18" FontAttributes="Bold" />
                <Label Text="{Binding AantalKarakters}" FontSize="24" FontAttributes="Bold" TextColor="Blue" />
            </HorizontalStackLayout>
            <!-- Voorbeeldtekst -->
            <Frame BorderColor="Black"
                CornerRadius="10"
                Padding="15"
                BackgroundColor="White">
                <Label FormattedText="{Binding FormattedVoorbeeldTekst}"
                    FontSize="18"
                    FontFamily="CourierNew"
                    LineBreakMode="WordWrap" />
            </Frame>

            <!-- Hints zichtbaar alleen als PracticeModeHints true -->
            <Frame IsVisible="{Binding PracticeModeHints}" BackgroundColor="LightYellow" Padding="10" CornerRadius="5" BorderColor="Orange">
                <Label Text="{Binding HuidigeHint}" FontSize="16" TextColor="DarkOrange" HorizontalOptions="Center" />
            </Frame>
            <!-- Onzichtbare Editor voor input -->
            <Editor x:Name="HiddenEditor" TextChanged="HiddenEditor_TextChanged" Opacity="0" HeightRequest="1" WidthRequest="1" AutoSize="TextChanges" />
            <!-- Label toont de getypte tekst en fout -->
            <Frame BackgroundColor="White" Padding="10" CornerRadius="5" BorderColor="Gray">
                <Label FormattedText="{Binding FormattedInvoer}" FontFamily="CourierNew" FontSize="18" />
            </Frame>
            <!-- Knoppen -->
            <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                <Button Text="▶ Start" Clicked="Start_Clicked" BackgroundColor="Green" TextColor="White" FontSize="18" WidthRequest="120" HeightRequest="50" />
                <Button Text="⏹ Stop" Clicked="Stop_Clicked" BackgroundColor="Red" TextColor="White" FontSize="18" WidthRequest="120" HeightRequest="50" />
            </HorizontalStackLayout>
            <!-- Resultaat -->
            <Frame IsVisible="{Binding ResultaatVisible}" BorderColor="Green" CornerRadius="10" Padding="20" BackgroundColor="LightGreen">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Oefening Voltooid!" FontSize="24" FontAttributes="Bold" HorizontalOptions="Center" />
                    <Label Text="{Binding ResultaatTekst}" FontSize="16" HorizontalOptions="Center" />
                    <Button Text="Opnieuw" Clicked="Opnieuw_Clicked" BackgroundColor="Orange" TextColor="White" HorizontalOptions="Center" Margin="0,10,0,0"/>
                </VerticalStackLayout>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>
</ContentView>